<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" type="text/css" href="gamePage.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body>

     <!--<div class = "buttons">
        <div class = "btn">
            <button>Rock</button>
        </div>
        <div class = "btn">
            <button>Paper</button>
        </div>
        <div class = "btn"> 
            <button>Scissors</button>
        </div>
     </div>-->


     <div class = "container"> 
        <h1 class = "text-center" id = "mainHeader">Choose an option and play against the computer!</h1>

        <div class = "row">
        <div class = "button col-xl text-center">
            <button class = "btn btn-outline-primary btn-lg" id = "rockBtn">Rock</button>
        </div>

        <div class = "button col-xl text-center">
            <button class = "btn btn-outline-primary btn-lg" id = "paperBtn">Paper</button>
        </div>

        <div class = "button col-xl text-center">
            <button class = "btn btn-outline-primary btn-lg" id = "scissorsBtn">Scissors</button>
        </div>
        </div>
     </div>

     <div class = "scoreboard">
         <div class = "row text-center" id = "scoreDisplay">
            <p class = "col-xl" id = "playerScore">Player has 0 points</p>
            <p class = "col-xl" id = "computerScore">Computer has 0 points</p>
         </div>

         <div class = "text-center" id = "scoreLog">
         </div>
     </div>

    <script>

        //Returns random integer within [0, max)
        function getRandomInt(max) 
        {
            return Math.floor(Math.random() * Math.floor(max));
        }
        
        //Returns "rock"/"paper"/"scissors" at random
        function choiceGenerator()
        {
            let aux = getRandomInt(3);

            if(aux == 0)
                return "rock";
            else
            {
                if(aux == 1)
                    return "paper";
                 else
                    return "scissors";
            }
        }

        //returns true if the player choice beats the computer choice, else returns false; equality returns false;
        function playerBeatsCalculator(human, computer)
        {
            if(computer == "rock")
            {
                if(human == "rock")
                    return false;
                else
                {
                    if(human == "paper")
                        return true;
                    else
                        return false;
                }
            }
            else
            {
                if(computer == "paper")
                {
                    if(human == "paper")
                        return false;
                    else
                    {
                        if(human == "rock")
                            return false;
                        else
                            return true;
                    }
                }
                else
                {
                    if(human == "scissors")
                        return false;
                    else
                    {
                        if(human == "rock")
                            return true;
                        else
                            return false;
                    }
                }
            }
        }

        //Main function
        function playRound(playerChoice)
        {
            console.log(playerChoice);

            let computerChoice = choiceGenerator();

            const newResult = document.createElement("p");
            newResult.classList.add("result");

            if(playerBeatsCalculator(playerChoice, computerChoice) === true)
            {
                newResult.textContent = `Player wins! ${playerChoice} beats ${computerChoice}`;

                console.log("player win");
                playerWin++;
                document.querySelector("#playerScore").textContent = `Player has ${playerWin} points`;
            }
            else
            {
                newResult.textContent = `Computer wins! ${computerChoice} beats ${playerChoice}`;

                console.log("computer win");
                computerWin++;
                document.querySelector("#computerScore").textContent = `Computer has ${computerWin} points`;
            }

            log.appendChild(newResult);
        }

        let playerWin = 0;
        let computerWin = 0;

        const log = document.querySelector("#scoreLog");

        const rockButton = document.querySelector("#rockBtn");
        rockButton.addEventListener('click', () => {playRound("rock")});
        
        const paperButton = document.querySelector("#paperBtn");
        paperButton.addEventListener('click', () => {playRound("paper")});
        
        const scissorsButton = document.querySelector("#scissorsBtn");
        scissorsButton.addEventListener('click', () => {playRound("scissors")});
        

    </script> 

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
  </html>